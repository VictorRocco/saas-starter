{% load static %}

<div class="message {{ type }}"
     x-data="{ show: true }"
     x-show="show"
     x-transition:enter="transition ease-out duration-300"
     x-transition:enter-start="opacity-0"
     x-transition:enter-end="opacity-100"
     x-transition:leave="transition ease-in duration-300"
     x-transition:leave-start="opacity-100"
     x-transition:leave-end="opacity-0">
    <div class="message-header">
        <p>{{ title|default:'Alert' }}</p>
        {% if dismissible|default:True %}
        <button class="delete" aria-label="delete" x-on:click="show = false"></button>
        {% endif %}
    </div>
    <div class="message-body">
        {{ message }}
        {% if actions %}
        <div class="buttons mt-3">
            {% for action in actions %}
            <button class="button {{ action.class }}"
                    hx-post="{{ action.url }}"
                    hx-target="{{ action.target|default:'body' }}"
                    x-on:click="show = false">
                {{ action.label }}
            </button>
            {% endfor %}
        </div>
        {% endif %}
    </div>
</div>

<style>
.message {
    margin-bottom: 1rem;
}
.message-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.message-body {
    border-radius: 0 0 4px 4px;
}
</style> 